.positioning-test-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem;
}

.test-header {
    margin-bottom: 2rem;
    text-align: center;
}

.test-header h1 {
    color: #2c3e50;
    margin-bottom: 0.5rem;
}

.test-header p {
    color: #6c757d;
    font-size: 1.1rem;
    max-width: 800px;
    margin: 0 auto;
}

/* Configuration Mode Selection */
.mode-selection-prominent {
    margin-bottom: 2rem;
    text-align: center;
}

.mode-selection-prominent h2 {
    color: #1976d2;
    margin-bottom: 1rem;
    font-size: 1.4rem;
}

.mode-options-prominent {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.mode-option-prominent {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem 1.5rem;
    border: 2px solid #e0e0e0;
    border-radius: 0.75rem;
    cursor: pointer;
    transition: all 0.2s ease;
    background: white;
    min-width: 250px;
    text-align: center;
}

.mode-option-prominent:hover {
    border-color: #2196f3;
    background: #f3f8ff;
}

.mode-option-prominent.selected {
    border-color: #1976d2;
    background: #e3f2fd;
    box-shadow: 0 2px 8px rgba(25, 118, 210, 0.2);
}

.mode-option-prominent input[type="radio"] {
    margin-bottom: 0.5rem;
    transform: scale(1.2);
}

.mode-option-prominent .mode-title {
    font-weight: 600;
    font-size: 1.1rem;
    color: #2c3e50;
    margin-bottom: 0.5rem;
}

.mode-option-prominent .mode-description {
    font-size: 0.9rem;
    color: #6c757d;
    line-height: 1.3;
}

.mode-option-prominent.selected .mode-title {
    color: #1976d2;
}

.mode-option-prominent.selected .mode-description {
    color: #1565c0;
}

/* Overlay Selection */
.overlay-selection-section {
    background: #e3f2fd;
    border: 1px solid #bbdefb;
    border-radius: 0.5rem;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.selection-header {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    align-items: center;
}

.current-overlay-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.current-overlay-info select {
    min-width: 200px;
    padding: 0.5rem 0.75rem;
    border: 1px solid #90caf9;
    border-radius: 0.375rem;
    background: white;
    font-size: 0.875rem;
}

.control-count-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
}

/* Configuration Controls */
.positioning-mode-controls {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 0.5rem;
    padding: 1rem;
    margin-bottom: 1.5rem;
}

/* Position Grid */
.position-grid-group {
    flex: 2;
    min-width: 280px;
}

.position-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
    max-width: 480px;
}

.position-grid-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0.75rem;
    border: 1px solid #e9ecef;
    border-radius: 0.5rem;
    background: white;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.875rem;
    min-height: 80px;
    position: relative;
}

.position-grid-item:hover {
    background: #f8f9fa;
    border-color: #adb5bd;
}

.position-grid-item:has(input[type="radio"]:checked) {
    background: #007bff;
    color: white;
    border-color: #007bff;
}

.position-grid-item input[type="radio"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

.position-icon {
    font-size: 1.2rem;
    margin-bottom: 0.25rem;
}

.position-label {
    font-weight: 600;
    font-size: 0.7rem;
}

/* New Layout - Position Grid + 3 Rows of Controls */
.controls-layout {
    display: flex;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.position-grid-section {
    flex: 0 0 auto;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.other-controls-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.controls-row {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    align-items: flex-start;
    margin-bottom: 0.5rem;
}

/* Legacy support for old control-row class */
.control-row {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.control-row:last-child {
    margin-bottom: 0;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
    min-width: 140px;
    flex: 1;
}

.control-group > label:first-child {
    font-weight: 600;
    color: #495057;
    margin-bottom: 0;
}

.control-options {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
}

.radio-option {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.75rem;
    border: 1px solid #e9ecef;
    border-radius: 0.375rem;
    background: white;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.875rem;
    white-space: nowrap;
}

.radio-option:hover {
    background: #f8f9fa;
    border-color: #adb5bd;
}

.radio-option input[type="radio"]:checked + span,
.radio-option:has(input[type="radio"]:checked) {
    background: #007bff;
    color: white;
    border-color: #007bff;
}

.checkbox-option {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    cursor: pointer;
    border: 1px solid #e9ecef;
    border-radius: 0.375rem;
    background: white;
    transition: all 0.2s ease;
    font-size: 0.875rem;
    white-space: nowrap;
    align-self: flex-end;
    margin-top: auto;
}

.checkbox-option:hover {
    background: #f8f9fa;
    border-color: #adb5bd;
}

.text-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.375rem 0.75rem;
    border: 1px solid #e9ecef;
    border-radius: 0.375rem;
    background: white;
    font-size: 0.875rem;
    white-space: nowrap;
}

.text-control input {
    padding: 0.25rem 0.5rem;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    font-size: 0.875rem;
}

/* Range Controls */
.range-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.range-control input[type="range"] {
    flex: 1;
    min-width: 100px;
}

.range-value {
    min-width: 50px;
    font-family: monospace;
    font-size: 0.875rem;
    color: #495057;
}

/* Code Snippet Panel */
.code-snippet-panel {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 0.5rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.code-snippet-panel h3 {
    margin-bottom: 1rem;
    color: #495057;
    font-size: 1.1rem;
}

.code-snippet {
    position: relative;
    background: #2d3748;
    border-radius: 0.375rem;
    overflow: hidden;
}

.code-snippet pre {
    margin: 0;
    padding: 1rem;
    background: transparent;
    color: #e2e8f0;
    font-size: 0.875rem;
    line-height: 1.5;
    overflow-x: auto;
}

.code-snippet code {
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    background: transparent;
    color: inherit;
}

.copy-code-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
}

/* Select and Textarea Styles */
.control-options select {
    padding: 0.375rem 0.75rem;
    border: 1px solid #ced4da;
    border-radius: 0.375rem;
    background: white;
    font-size: 0.875rem;
    min-width: 120px;
}

.control-group textarea {
    padding: 0.375rem 0.75rem;
    border: 1px solid #ced4da;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    resize: vertical;
}

.control-group input[type="text"] {
    padding: 0.375rem 0.75rem;
    border: 1px solid #ced4da;
    border-radius: 0.375rem;
    font-size: 0.875rem;
}

/* Status Panel */
.test-status-panel {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 0.5rem;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.status-row {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-bottom: 1rem;
}

.status-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.status-label {
    font-size: 0.875rem;
    opacity: 0.9;
}

.status-value {
    font-weight: 600;
    font-size: 1.1rem;
}

.status-true {
    color: #28a745;
}

.status-false {
    color: #6c757d;
}

.coordinates-detail,
.performance-info {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.coords-section,
.css-section {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
}

.detail-label {
    font-size: 0.875rem;
    opacity: 0.9;
    min-width: 120px;
}

.coord-value {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: monospace;
    font-size: 0.875rem;
}

.css-value {
    background: rgba(0, 0, 0, 0.2);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: monospace;
    font-size: 0.875rem;
    color: #e9ecef;
}

.perf-value {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: monospace;
    font-size: 0.875rem;
}

/* Test Actions */
.test-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 2rem;
    justify-content: center;
}

.test-actions .btn {
    padding: 0.5rem 1rem;
    font-weight: 500;
}

/* Test Gallery */
.positioning-test-gallery {
    margin-bottom: 2rem;
}

.gallery-container {
    transition: all 0.3s ease;
}

.mobile-simulation .gallery-container {
    max-width: 375px;
    margin: 0 auto;
    border: 2px solid #007bff;
    border-radius: 0.5rem;
    overflow: hidden;
}

.mobile-indicator {
    text-align: center;
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    background: #007bff;
    color: white;
    border-radius: 0.25rem;
    font-weight: 500;
    max-width: 375px;
    margin-left: auto;
    margin-right: auto;
}

.positioning-test-control {
    z-index: 10;
}

.positioning-test-control.currently-configured .overlay-control-button {
    box-shadow: 0 0 0 3px #007bff, 0 0 12px rgba(0, 123, 255, 0.4);
    animation: currently-configured-pulse 2s infinite;
    transform: scale(1.1);
}

@keyframes currently-configured-pulse {
    0%, 100% { box-shadow: 0 0 0 3px #007bff, 0 0 12px rgba(0, 123, 255, 0.4); }
    50% { box-shadow: 0 0 0 4px #007bff, 0 0 16px rgba(0, 123, 255, 0.6); }
}

.positioning-test-control.test-highlight .overlay-control-button {
    box-shadow: 0 0 0 2px #ffc107, 0 0 8px rgba(255, 193, 7, 0.4);
    animation: highlight-pulse 2s infinite;
}

@keyframes highlight-pulse {
    0%, 100% { box-shadow: 0 0 0 2px #ffc107, 0 0 8px rgba(255, 193, 7, 0.4); }
    50% { box-shadow: 0 0 0 3px #ffc107, 0 0 12px rgba(255, 193, 7, 0.6); }
}

/* Positioning Analysis */
.positioning-analysis {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 0.5rem;
    padding: 1rem;
    margin-bottom: 2rem;
}

.positioning-analysis h3 {
    margin-bottom: 1rem;
    color: #495057;
    font-size: 1.1rem;
}

.analysis-summary {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    font-size: 0.9rem;
}

.analysis-summary span {
    padding: 0.25rem 0.5rem;
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 0.25rem;
}

/* Performance Testing */
.performance-testing {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 0.5rem;
    padding: 1.5rem;
}

.performance-testing h3 {
    margin-bottom: 1.5rem;
    color: #856404;
}

.perf-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.perf-stats {
    font-size: 0.875rem;
    color: #856404;
}

.benchmark-results,
.rapid-change-results {
    background: rgba(255, 255, 255, 0.7);
    padding: 0.5rem;
    border-radius: 0.25rem;
    margin-bottom: 0.5rem;
    font-family: monospace;
}

/* Responsive Design */
@media (max-width: 768px) {
    .positioning-test-container {
        padding: 0.5rem;
    }

    .position-grid {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    }

    .status-row {
        flex-direction: column;
        gap: 1rem;
    }

    .coords-section,
    .css-section {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }

    .test-actions {
        justify-content: stretch;
    }

    .test-actions .btn {
        flex: 1;
        min-width: 0;
    }

    .analysis-grid {
        grid-template-columns: 1fr;
    }

    .perf-controls {
        justify-content: stretch;
    }

    .perf-controls .btn {
        flex: 1;
        min-width: 0;
    }
}

/* Animation for test state changes */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.positioning-test-control:hover {
    animation: pulse 0.3s ease-in-out;
}

/* Accessibility improvements */
.radio-option:focus-within,
.checkbox-option:focus-within {
    outline: 2px solid #007bff;
    outline-offset: 2px;
}

.range-control input[type="range"]:focus {
    outline: 2px solid #007bff;
    outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .test-status-panel {
        background: #000;
        border: 2px solid #fff;
    }

    .radio-option:has(input[type="radio"]:checked) {
        background: #000;
        border: 2px solid #fff;
    }
}